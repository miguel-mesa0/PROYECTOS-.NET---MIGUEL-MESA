@model IEnumerable<Inventario.Models.Inventario.AjustesInventario>

@{
    ViewData["Title"] = "Ajustes de inventario";
}

<div class="flex justify-between items-center mb-6">
    <div>
        <h1 class="text-2xl font-bold text-slate-800">Ajustes de inventario</h1>
        <p class="text-sm text-slate-500">Entradas y salidas manuales de stock por bodega.</p>
    </div>

    <a asp-action="Create"
       class="inline-flex items-center px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold shadow">
        <i class="fa-solid fa-sliders mr-2"></i> Nuevo ajuste
    </a>
</div>

<div class="bg-white rounded-xl shadow overflow-hidden">
    <table class="min-w-full text-xs md:text-sm">
        <thead class="bg-slate-100 border-b border-slate-200">
            <tr>
                <th class="px-3 py-2 text-left font-semibold text-slate-600 uppercase">#</th>
                <th class="px-3 py-2 text-left font-semibold text-slate-600 uppercase">Fecha</th>
                <th class="px-3 py-2 text-left font-semibold text-slate-600 uppercase">Bodega</th>
                <th class="px-3 py-2 text-left font-semibold text-slate-600 uppercase">Motivo</th>
                <th class="px-3 py-2 text-right font-semibold text-slate-600 uppercase">Líneas</th>
                <th class="px-3 py-2 text-right font-semibold text-slate-600 uppercase">Acciones</th>
            </tr>
        </thead>
        <tbody>
            @if (Model == null || !Model.Any())
            {
                <tr>
                    <td colspan="6" class="px-4 py-6 text-center text-slate-400">
                        No hay ajustes registrados.
                    </td>
                </tr>
            }
            else
            {
                foreach (var a in Model)
                {
                    <tr class="border-b border-slate-100 hover:bg-slate-50">
                        <td class="px-3 py-2 align-middle text-slate-800 font-semibold">
                            AJU-@a.Id
                        </td>
                        <td class="px-3 py-2 align-middle text-slate-700">
                            @a.Fecha.ToString("dd/MM/yyyy HH:mm")
                        </td>
                        <td class="px-3 py-2 align-middle text-slate-700">
                            @a.Bodega?.Nombre
                        </td>
                        <td class="px-3 py-2 align-middle text-slate-600">
                            @a.Motivo
                        </td>
                        <td class="px-3 py-2 align-middle text-right text-slate-700">
                            @a.AjustesInventarioDetalles.Count
                        </td>
                        <td class="px-3 py-2 align-middle text-right space-x-1">
                            <a asp-action="Details" asp-route-id="@a.Id"
                               class="inline-flex items-center px-2 py-1 text-[11px] rounded bg-slate-200 hover:bg-slate-300 text-slate-800">
                                <i class="fa-solid fa-eye mr-1"></i> Ver
                            </a>
                            <a asp-action="Delete" asp-route-id="@a.Id"
                               class="inline-flex items-center px-2 py-1 text-[11px] rounded bg-red-500 hover:bg-red-600 text-white">
                                <i class="fa-solid fa-trash mr-1"></i> Eliminar
                            </a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
