@model IEnumerable<Inventario.Models.Inventario.Compra>

@{
    ViewData["Title"] = "Compras";
}

<div class="flex justify-between items-center mb-6">
    <div>
        <h1 class="text-2xl font-bold text-slate-800">Compras</h1>
        <p class="text-sm text-slate-500">Historial de compras registradas.</p>
    </div>

    <a asp-action="Create"
       class="inline-flex items-center px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold shadow">
        <i class="fa-solid fa-cart-plus mr-2"></i> Nueva compra
    </a>
</div>

<div class="bg-white rounded-xl shadow overflow-hidden">
    <table class="min-w-full text-sm">
        <thead class="bg-slate-100 border-b border-slate-200">
            <tr>
                <th class="px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase">#</th>
                <th class="px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase">Fecha</th>
                <th class="px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase">Bodega</th>
                <th class="px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase">Proveedor</th>
                <th class="px-4 py-2 text-right text-xs font-semibold text-slate-600 uppercase">Total</th>
                <th class="px-4 py-2 text-right text-xs font-semibold text-slate-600 uppercase">Acciones</th>
            </tr>
        </thead>
        <tbody>
            @if (!Model.Any())
            {
                <tr>
                    <td colspan="6" class="px-4 py-6 text-center text-slate-400">No hay compras registradas.</td>
                </tr>
            }
            else
            {
                foreach (var c in Model)
                {
                    <tr class="border-b border-slate-100 hover:bg-slate-50">
                        <td class="px-4 py-2 align-middle text-slate-800 font-semibold">COMP-@c.Id</td>
                        <td class="px-4 py-2 align-middle text-slate-700">@c.Fecha.ToString("dd/MM/yyyy HH:mm")</td>
                        <td class="px-4 py-2 align-middle">@c.Bodega?.Nombre</td>
                        <td class="px-4 py-2 align-middle">@c.Proveedor?.Nombre</td>
                        <td class="px-4 py-2 align-middle text-right font-semibold text-slate-800">
                            $ @c.Total.ToString("N2")
                        </td>
                        <td class="px-4 py-2 align-middle text-right space-x-1">
                            <a asp-action="Details" asp-route-id="@c.Id"
                               class="px-3 py-1 rounded bg-slate-200 hover:bg-slate-300 text-xs text-slate-800">
                                <i class="fa-solid fa-eye mr-1"></i> Ver
                            </a>

                            <a asp-action="Edit" asp-route-id="@c.Id"
                               class="px-3 py-1 rounded bg-blue-500 hover:bg-blue-600 text-xs text-white">
                                <i class="fa-solid fa-pen mr-1"></i> Editar
                            </a>

                            <a asp-action="Delete" asp-route-id="@c.Id"
                               class="px-3 py-1 rounded bg-red-500 hover:bg-red-600 text-xs text-white">
                                <i class="fa-solid fa-trash mr-1"></i> Eliminar
                            </a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
